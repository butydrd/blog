<!DOCTYPE html><html class="theme-light" lang="zh-CN"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#ffffff"><link href="/favicon.png" rel="shortcut icon"><title>搭建 Tinc 进行组网</title><meta name="title" content="搭建 Tinc 进行组网"><meta name="description" content=""><link rel="preconnect" href="https://giscus.app"><link rel="preconnect" href="https://github.com"><meta property="og:title" content="搭建 Tinc 进行组网"><meta property="og:type" content="article"><meta property="article:author" content="攬餘月"><meta property="article:published_time" content="2023-02-10T15:14:46.008Z"><script type="module" src="/assets/instant.js" integrity="sha384-jnZyxPjiipYXnSU0ygqeac2q7CVYMbh84q0uHVRRxEtvFPiQYbXWUorga2aqZJ0z"></script><script>
  (function () {
    if (typeof window !== 'undefined') {
      const isSystemColorSchemeDark = window.matchMedia(
        '(prefers-color-scheme: dark)'
      ).matches;
      const storageTheme = sessionStorage.getItem('theme');
      if (!storageTheme && isSystemColorSchemeDark) {
        document.documentElement.classList.remove('theme-light');
        document.documentElement.classList.add('theme-dark');
        document.head.children.namedItem('theme-color').content = '#0f172a';
      } else if (storageTheme === 'dark') {
        document.documentElement.classList.remove('theme-light');
        document.documentElement.classList.add('theme-dark');
        document.head.children.namedItem('theme-color').content = '#0f172a';
      } else {
        document.head.children.namedItem('theme-color').content = '#ffffff';
      }
    }
  })();
</script><link rel="stylesheet" href="/assets/about.DuPLz_Bk.css">
<link rel="stylesheet" href="/assets/about.lj_PJ_6k.css"><script type="module" src="/assets/hoisted.C7XQGTOS.js"></script></head> <body> <header class="header"> <div class="header-inner"> <h1 class="flex items-center gap-2 font-bold"> <a href="/" class="text-nowrap text-base text-[var(--text-normal)] no-underline">繪畫世界</a> </h1> <nav class="nav mr-4"> <ul class="menu"> <li> <a href="/categories" class="text-sm capitalize decoration-gray-400 opacity-85"> Categories </a> </li><li> <a href="/tags" class="text-sm capitalize decoration-gray-400 opacity-85"> Tags </a> </li><li> <a href="/projects" class="text-sm capitalize decoration-gray-400 opacity-85"> Projects </a> </li><li> <a href="/about" class="text-sm capitalize decoration-gray-400 opacity-85"> About </a> </li> </ul> </nav>  <a class="w-4 h-4 opacity-80 hover:opacity-100 cursor-pointer mr-4" href="/search"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-full h-full"><circle cx="11" cy="11" r="8"/>
<path d="m21 21-4.3-4.3"/></svg> </a> <theme-control class="w-4 h-4 opacity-80 hover:opacity-100 cursor-pointer mr-4"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-full h-full"><circle cx="12" cy="12" r="4"/>
<path d="M12 2v2"/>
<path d="M12 20v2"/>
<path d="m4.93 4.93 1.41 1.41"/>
<path d="m17.66 17.66 1.41 1.41"/>
<path d="M2 12h2"/>
<path d="M20 12h2"/>
<path d="m6.34 17.66-1.41 1.41"/>
<path d="m19.07 4.93-1.41 1.41"/></svg> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-full h-full"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg> </theme-control>   </div> </header>    <main class="container">  <time class="opacity-85 text-sm font-bold" datetime="2023-02-10T15:14:46.008Z">Feb 10, 2023</time> <h1 class="md-title mb-4 text-3xl"> 搭建 Tinc 进行组网 </h1> <article class="md-content w-full mt-10 animate-in fade-in"> <p>本文记录搭建 Tinc 组网的全过程</p><p>搭建 tinc 需要一台具备公网 IP 的设备作为服务器，此设备防火墙需要开放 655 TCP/UDP 端口，大体结构如下</p><div class="code-block"> <pre class="shiki highlighting language-text" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="text"><code class="language-text"><span class="line"><span>          node(server)</span></span>
<span class="line"><span>             /    \</span></span>
<span class="line"><span>   node(client1)  node(client2)</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <h3 id="服务端" class="group flex relative" data-heading="服务端"> <a aria-label="link to this heading" aria-describedby="服务端" href="#服务端">#</a>服务端 </h3><p>本文使用 Debian11 的 VPS 用做服务端，首先安装 tinc，Debian 包管理器提供 tinc 最新版本的包 (1.0.36)</p><div class="code-block"> <pre class="shiki highlighting language-bash" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="bash"><code class="language-bash"><span class="line"><span style="color:var(--shiki-token-function)">sudo</span><span style="color:var(--shiki-token-string)"> apt</span><span style="color:var(--shiki-token-string)"> -y</span><span style="color:var(--shiki-token-string)"> install</span><span style="color:var(--shiki-token-string)"> tinc</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p><strong>1. 建立网络配置文件目录</strong></p><p>在 tinc 配置文件目录下新建一个目录作为虚拟网络配置文件的存放处，其中 hnet 为虚拟网络名称，这个名称任意</p><div class="code-block"> <pre class="shiki highlighting language-plaintext" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="plaintext"><code class="language-plaintext"><span class="line"><span>sudo mkdir /etc/tinc/hnet</span></span>
<span class="line"><span>sudo mkdir /etc/tinc/hnet/hosts</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p><strong>2. 建立配置文件</strong></p><p>新建 tinc.conf 配置文件</p><div class="code-block"> <pre class="shiki highlighting language-bash" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="bash"><code class="language-bash"><span class="line"><span style="color:var(--shiki-token-function)">sudo</span><span style="color:var(--shiki-token-string)"> vim</span><span style="color:var(--shiki-token-string)"> /etc/tinc/hnet/tinc.conf</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>内容为：</p><div class="code-block"> <pre class="shiki highlighting language-properties" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="properties"><code class="language-properties"><span class="line"><span style="color:var(--shiki-token-keyword)">Name</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> remote </span><span style="color:var(--shiki-token-comment)"># 网络名称</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">Interface</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> veth0 </span><span style="color:var(--shiki-token-comment)"># 网卡名称</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">Mode</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> switch</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># 加密方式</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">Cipher</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> aes-256-cbc</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">Digest</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> sha512</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p><strong>3. 建立节点描述文件</strong></p><p>新建 host 文件，文件名必须和上面配置文件中的网络名称保持一致</p><div class="code-block"> <pre class="shiki highlighting language-bash" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="bash"><code class="language-bash"><span class="line"><span style="color:var(--shiki-token-function)">sudo</span><span style="color:var(--shiki-token-string)"> vim</span><span style="color:var(--shiki-token-string)"> /etc/tinc/hnet/hosts/remote</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>内容为：</p><div class="code-block"> <pre class="shiki highlighting language-properties" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="properties"><code class="language-properties"><span class="line"><span style="color:var(--shiki-token-keyword)">Address</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> ?.?.?.? </span><span style="color:var(--shiki-token-comment)"># 改为具体的公网IP，也可以是 ::</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">Subnet</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> 10.5.11.1/32 </span><span style="color:var(--shiki-token-comment)"># 使用 10.5.11.x 网段</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p><strong>4. 生成密钥</strong></p><p>执行 tincd 命令生成密钥对，一路回车，不建议更改生成路径</p><div class="code-block"> <pre class="shiki highlighting language-bash" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="bash"><code class="language-bash"><span class="line"><span style="color:var(--shiki-token-comment)"># -n 指定网络名称，-K 指明生成密钥，可以在 -K 后以数字指定密钥长度，详细查看 sudo tincd --help</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">sudo</span><span style="color:var(--shiki-token-string)"> tincd</span><span style="color:var(--shiki-token-string)"> -n</span><span style="color:var(--shiki-token-string)"> hnet</span><span style="color:var(--shiki-token-string)"> -K</span><span style="color:var(--shiki-token-constant)"> 4096</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>此时 hosts 目录下的 remote 文件应该是配置 + 公钥这种形式，此文件后面将分发其他 tinc 节点的 hosts 目录下</p><div class="code-block"> <pre class="shiki highlighting language-properties" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="properties"><code class="language-properties"><span class="line"><span style="color:var(--shiki-token-keyword)">Address</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> ?.?.?.? </span><span style="color:var(--shiki-token-comment)"># 改为具体的公网IP</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">Subnet</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> 10.5.11.1/32 </span><span style="color:var(--shiki-token-comment)"># 使用 10.5.11.1.x 网段，网段任意，只要是保留的就可以</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-foreground)">-----BEGIN RSA PUBLIC KEY-----</span></span>
<span class="line"><span style="color:var(--shiki-foreground)">...省略</span></span>
<span class="line"><span style="color:var(--shiki-foreground)">-----END RSA PUBLIC KEY-----</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p><strong>5. 创建启动和关闭脚本</strong></p><p>新建 tinc-up 文件</p><div class="code-block"> <pre class="shiki highlighting language-shell" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="shell"><code class="language-shell"><span class="line"><span style="color:var(--shiki-token-comment)">#!/bin/sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># use ifconfig</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># ifconfig $INTERFACE 10.5.11.1/24</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># use ip</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># tinc 会提供一个 INTERFACE 的环境变量，为此网卡分配一个固定 IP</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">ip</span><span style="color:var(--shiki-token-string)"> link</span><span style="color:var(--shiki-token-string)"> set</span><span style="color:var(--shiki-foreground)"> $INTERFACE </span><span style="color:var(--shiki-token-string)">up</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">ip</span><span style="color:var(--shiki-token-string)"> addr</span><span style="color:var(--shiki-token-string)"> add</span><span style="color:var(--shiki-token-string)"> 10.5.11.1/24</span><span style="color:var(--shiki-token-string)"> dev</span><span style="color:var(--shiki-foreground)"> $INTERFACE</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">ip</span><span style="color:var(--shiki-token-string)"> route</span><span style="color:var(--shiki-token-string)"> add</span><span style="color:var(--shiki-token-string)"> 10.5.11.0/24</span><span style="color:var(--shiki-token-string)"> dev</span><span style="color:var(--shiki-foreground)"> $INTERFACE</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>新建 tinc-down 文件</p><div class="code-block"> <pre class="shiki highlighting language-shell" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="shell"><code class="language-shell"><span class="line"><span style="color:var(--shiki-token-comment)">#!/bin/sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># use ifconfig</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># ifconfig $INTERFACE down</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># use ip</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">ip</span><span style="color:var(--shiki-token-string)"> route</span><span style="color:var(--shiki-token-string)"> del</span><span style="color:var(--shiki-token-string)"> 10.5.11.0/24</span><span style="color:var(--shiki-token-string)"> dev</span><span style="color:var(--shiki-foreground)"> $INTERFACE</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">ip</span><span style="color:var(--shiki-token-string)"> addr</span><span style="color:var(--shiki-token-string)"> del</span><span style="color:var(--shiki-token-string)"> 10.5.11.1/24</span><span style="color:var(--shiki-token-string)"> dev</span><span style="color:var(--shiki-foreground)"> $INTERFACE</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">ip</span><span style="color:var(--shiki-token-string)"> link</span><span style="color:var(--shiki-token-string)"> set</span><span style="color:var(--shiki-foreground)"> $INTERFACE </span><span style="color:var(--shiki-token-string)">down</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>赋予脚本可执行权限</p><div class="code-block"> <pre class="shiki highlighting language-bash" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="bash"><code class="language-bash"><span class="line"><span style="color:var(--shiki-token-function)">sudo</span><span style="color:var(--shiki-token-string)"> chmod</span><span style="color:var(--shiki-token-string)"> +x</span><span style="color:var(--shiki-token-string)"> /etc/tinc/hnet/tinc-*</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p><strong>6. 启动</strong></p><div class="code-block"> <pre class="shiki highlighting language-plaintext" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="plaintext"><code class="language-plaintext"><span class="line"><span>sudo systemctl start tinc@hnet</span></span>
<span class="line"><span>sudo systemctl enable tinc@hnet</span></span>
<span class="line"><span>sudo systemctl status tinc@hnet</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>使用 <code translate="no">ip addr</code> 查看是否存在名为 <code translate="no">Tinc</code> 的网卡，此网卡的 ip 应该为 <code translate="no">10.5.11.1</code>
使用 <code translate="no">ping -c 5 10.5.11.1</code> 来是否运行正常，如果能 ping 通则服务端的配置已完成处理</p><h3 id="DHCP 服务" class="group flex relative" data-heading="DHCP 服务"> <a aria-label="link to this heading" aria-describedby="DHCP 服务" href="#DHCP 服务">#</a>DHCP 服务 </h3><p>开启 DHCP 服务为这个虚拟局域网提供自动分配 IP 的功能</p><p>安装 <code translate="no">isc-dhcp-server</code></p><div class="code-block"> <pre class="shiki highlighting language-bash" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="bash"><code class="language-bash"><span class="line"><span style="color:var(--shiki-token-function)">sudo</span><span style="color:var(--shiki-token-string)"> apt</span><span style="color:var(--shiki-token-string)"> install</span><span style="color:var(--shiki-token-string)"> isc-dhcp-server</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>编辑 <code translate="no">/etc/default/isc-dhcp-server</code> 文件，找不 <code translate="no">INTERFACESv4</code> 字段，改为</p><div class="code-block"> <pre class="shiki highlighting language-plaintext" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="plaintext"><code class="language-plaintext"><span class="line"><span>INTERFACESv4="veth0"</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>编辑 <code translate="no">/etc/dhcp/dhcpd.conf</code></p><div class="code-block"> <pre class="shiki highlighting language-plaintext" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="plaintext"><code class="language-plaintext"><span class="line"><span>subnet 10.5.11.0 netmask 255.255.255.0 {</span></span>
<span class="line"><span>    range 10.5.11.5 10.5.11.100;</span></span>
<span class="line"><span>    option routers 10.5.11.1;</span></span>
<span class="line"><span>    option subnet-mask 255.255.255.0;</span></span>
<span class="line"><span>    option domain-name-servers 10.5.11.1;</span></span>
<span class="line"><span>}</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <h3 id="客户端（Windows）" class="group flex relative" data-heading="客户端（Windows）"> <a aria-label="link to this heading" aria-describedby="客户端（Windows）" href="#客户端（Windows）">#</a>客户端（Windows） </h3><p>下载 Tinc 安装包 <a href="https://www.tinc-vpn.org/download/" rel="noonpener" class="external-link" target="_blank">https://www.tinc-vpn.org/download/</a>进行安装，不建议安装在<code translate="no">C://Program Files (x86)</code> 下面，否则编写配置文件这些全部需要以管理员方式打开才能保存，较为繁琐，但本文还是假定安装目录为
<code translate="no">C://Program Files (x86)/tinc</code></p><p>以管理员方式打开命令行，建议 WindowTerminal + PowerShell7</p><p><strong>1. 安装网卡驱动</strong></p><div class="code-block"> <pre class="shiki highlighting language-powershell" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="powershell"><code class="language-powershell"><span class="line"><span style="color:var(--shiki-token-keyword)">&#x26;</span><span style="color:var(--shiki-token-string-expression)"> 'C:\Program Files (x86)\tinc\tap-win64\addtap.bat'</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>安装后，输入 <code translate="no">ipconfig</code> 查看网卡是否存在，它的名称可能是<code translate="no">以太网 2</code>，此处数字不固定，重命名网卡名称，该名称用于后面 <code translate="no">tinc.conf</code> 文件中的 <code translate="no">Interface</code> 字段</p><div class="code-block"> <pre class="shiki highlighting language-powershell" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="powershell"><code class="language-powershell"><span class="line"><span style="color:var(--shiki-token-function)">Rename-NetAdapter</span><span style="color:var(--shiki-token-keyword)"> -</span><span style="color:var(--shiki-foreground)">Name </span><span style="color:var(--shiki-token-string-expression)">"以太网 2"</span><span style="color:var(--shiki-token-keyword)"> -</span><span style="color:var(--shiki-foreground)">NewName </span><span style="color:var(--shiki-token-string-expression)">"Tinc"</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p><strong>2. 建立网络配置文件目录</strong></p><div class="code-block"> <pre class="shiki highlighting language-powershell" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="powershell"><code class="language-powershell"><span class="line"><span style="color:var(--shiki-foreground)">mkdir </span><span style="color:var(--shiki-token-string-expression)">'C:\Program Files (x86)\tinc\hnet'</span></span>
<span class="line"><span style="color:var(--shiki-foreground)">mkdir </span><span style="color:var(--shiki-token-string-expression)">'C:\Program Files (x86)\tinc\hnet\hosts'</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p><strong>3. 建立配置文件</strong></p><div class="code-block"> <pre class="shiki highlighting language-powershell" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="powershell"><code class="language-powershell"><span class="line"><span style="color:var(--shiki-foreground)">notepad </span><span style="color:var(--shiki-token-string-expression)">'C:\Program Files (x86)\tinc\hnet\tinc.conf'</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>添加内容</p><div class="code-block"> <pre class="shiki highlighting language-properties" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="properties"><code class="language-properties"><span class="line"><span style="color:var(--shiki-token-keyword)">Name</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> home</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">Interface</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> Tinc</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">Mode</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> switch</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">ConnectTo</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> hnet</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">Cipher</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> aes-256-cbc</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">Digest</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> sha512</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p><strong>4. 建立节点描述文件</strong></p><div class="code-block"> <pre class="shiki highlighting language-powershell" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="powershell"><code class="language-powershell"><span class="line"><span style="color:var(--shiki-foreground)">echo </span><span style="color:var(--shiki-token-string-expression)">''</span><span style="color:var(--shiki-token-keyword)"> ></span><span style="color:var(--shiki-token-string-expression)"> 'C:\Program Files (x86)\tinc\hnet\hosts\home'</span></span>
<span class="line"><span style="color:var(--shiki-foreground)">notepad </span><span style="color:var(--shiki-token-string-expression)">'C:\Program Files (x86)\tinc\hnet\hosts\home'</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>添加内容</p><div class="code-block"> <pre class="shiki highlighting language-properties" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="properties"><code class="language-properties"><span class="line"><span style="color:var(--shiki-token-keyword)">Subnet</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> 10.5.11.7/32</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p><strong>5. 生成密钥对</strong></p><div class="code-block"> <pre class="shiki highlighting language-powershell" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="powershell"><code class="language-powershell"><span class="line"><span style="color:var(--shiki-token-keyword)">&#x26;</span><span style="color:var(--shiki-token-string-expression)"> 'C:\Program Files (x86)\tinc\tincd'</span><span style="color:var(--shiki-token-keyword)"> -</span><span style="color:var(--shiki-foreground)">n hnet </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-foreground)">K </span><span style="color:var(--shiki-token-constant)">4096</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p><strong>6. 交换共钥</strong></p><p>复制服务端的 <code translate="no">/etc/tinc/hnet/hosts</code> 目录下的 remote 文件至本地的 <code translate="no">C:\Program Files (x86)\tinc\hnet\hosts</code> 目录下
复制本地 <code translate="no">C:\Program Files (x86)\tinc\hnet\hosts</code> 目录下的 home 文件至服务端的 <code translate="no">/etc/tinc/hnet/hosts</code> 目录下</p><p><strong>7. 创建启动和关闭脚本</strong></p><p>新建 tinc-up.bat 批处理文件</p><div class="code-block"> <pre class="shiki highlighting language-powershell" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="powershell"><code class="language-powershell"><span class="line"><span style="color:var(--shiki-foreground)">notepad </span><span style="color:var(--shiki-token-string-expression)">'C:\Program Files (x86)\tinc\hnet\tinc-up.bat'</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>添加内容</p><div class="code-block"> <pre class="shiki highlighting language-cmd" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="cmd"><code class="language-cmd"><span class="line"><span style="color:var(--shiki-foreground)">@echo off</span></span>
<span class="line"><span style="color:var(--shiki-foreground)">netsh interface ip</span><span style="color:var(--shiki-token-keyword)"> set </span><span style="color:var(--shiki-foreground)">address </span><span style="color:var(--shiki-token-string-expression)">"%INTERFACE%"</span><span style="color:var(--shiki-foreground)"> static </span><span style="color:var(--shiki-token-constant)">10.5.11.7</span><span style="color:var(--shiki-token-constant)"> 255.255.255.0</span><span style="color:var(--shiki-token-constant)"> 10.5.11.1</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>新建 tinc-down.bat 批处理文件</p><div class="code-block"> <pre class="shiki highlighting language-powershell" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="powershell"><code class="language-powershell"><span class="line"><span style="color:var(--shiki-foreground)">notepad </span><span style="color:var(--shiki-token-string-expression)">'C:\Program Files (x86)\tinc\hnet\tinc-down.bat'</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>添加内容</p><div class="code-block"> <pre class="shiki highlighting language-cmd" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="cmd"><code class="language-cmd"><span class="line"><span style="color:var(--shiki-foreground)">@echo off</span></span>
<span class="line"><span style="color:var(--shiki-foreground)">netsh interface ip</span><span style="color:var(--shiki-token-keyword)"> set </span><span style="color:var(--shiki-foreground)">address </span><span style="color:var(--shiki-token-string-expression)">"%INTERFACE%"</span><span style="color:var(--shiki-foreground)"> source</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-foreground)">dhcp</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p><strong>8. 测试连接</strong></p><p>进入存在 <code translate="no">tincd.exe</code> 存放的目录使用下面命令开启看能否连接到服务器</p><div class="code-block"> <pre class="shiki highlighting language-pwsh" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="pwsh"><code class="language-pwsh"><span class="line"><span style="color:var(--shiki-foreground)">.\</span><span style="color:var(--shiki-token-function)">tincd.exe</span><span style="color:var(--shiki-token-keyword)"> -</span><span style="color:var(--shiki-foreground)">n hnet </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-foreground)">d </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-foreground)">D</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p><strong>9. 生成服务</strong></p><div class="code-block"> <pre class="shiki highlighting language-powershell" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="powershell"><code class="language-powershell"><span class="line"><span style="color:var(--shiki-token-keyword)">&#x26;</span><span style="color:var(--shiki-token-string-expression)"> 'C:\Program Files (x86)\tinc\tincd'</span><span style="color:var(--shiki-token-keyword)"> -</span><span style="color:var(--shiki-foreground)">n hnet</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>服务会自行启动，现在使用 <code translate="no">ping 10.5.11.7</code> 和 <code translate="no">ping 10.5.11.1</code> 来检查是否正常，如果 <code translate="no">ping</code> 不通也有可能是防火墙原因，最好临时关闭防火墙测试一下</p><h3 id="客户端（MacOS Sonoma）" class="group flex relative" data-heading="客户端（MacOS Sonoma）"> <a aria-label="link to this heading" aria-describedby="客户端（MacOS Sonoma）" href="#客户端（MacOS Sonoma）">#</a>客户端（MacOS Sonoma） </h3><p>补充：现在 MacOS 会时不时警告下面的驱动，未来需要寻找更合适的方案</p><p><strong>1. 使用 <code translate="no">brew</code> 安装 <code translate="no">tinc</code></strong></p><div class="code-block"> <pre class="shiki highlighting language-bash" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="bash"><code class="language-bash"><span class="line"><span style="color:var(--shiki-token-function)">brew</span><span style="color:var(--shiki-token-string)"> install</span><span style="color:var(--shiki-token-string)"> tinc</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p><strong>2. 安装 tun/tap 驱动</strong></p><p>由于版本更新，<code translate="no">brew</code> 废弃了 <code translate="no">tun/tap</code> ，因此需要先安装 <a href="https://github.com/Tunnelblick/Tunnelblick/releases" rel="noonpener" class="external-link" target="_blank">Tunnelblick</a> 来提供驱动，下载安装好后通过左上角图标进入设置</p><p><figure> <a data-width="1586" data-height="1074" href="/static/OaqK-BXYkI0OvYcFSYOkzw.png" target="_blank"> <picture> <source srcset="/static/OaqK-BXYkI0OvYcFSYOkzw.png@664w450h!thumbnail.avif" type="image/avif" media="(min-width:664px)"><source srcset="/static/OaqK-BXYkI0OvYcFSYOkzw.png@375w254h!thumbnail.png" type="image/png" media="(min-width:375px)"><source srcset="/static/OaqK-BXYkI0OvYcFSYOkzw.png@375w254h!thumbnail.avif" type="image/avif" media="(min-width:375px)"> <img src="/static/OaqK-BXYkI0OvYcFSYOkzw.png@664w450h!thumbnail.png" alt="截屏2024-01-30 18.36.46.png"> </picture> </a>  </figure></p><p>点击安装 tun 和 tap 系统扩展（这里是已经安装后的截图），它会申请权限安装，最后会要求开启系统扩展</p><p>进入 <code translate="no">/Library/Extensions</code> 目录查看是否存在 <code translate="no">tunnelblick-tap.kext</code> 和 <code translate="no">tunneblick-tun.kext</code>，然后输入下面命令加载</p><div class="code-block"> <pre class="shiki highlighting language-bash" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="bash"><code class="language-bash"><span class="line"><span style="color:var(--shiki-token-function)">sudo</span><span style="color:var(--shiki-token-string)"> kextload</span><span style="color:var(--shiki-token-string)"> ./tunnelblick-tap.kext</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>然后重启系统</p><p><strong>3. 配置文件</strong></p><p>由于 <code translate="no">kextload</code> 加载的扩展不会持久化，因此需要每次开机进行加载，在 <code translate="no">/opt/homebrew/etc/tinc</code> 目录下新建一个启动脚本 <code translate="no">startup.sh</code>，输入下面内容</p><div class="code-block"> <pre class="shiki highlighting language-shell" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="shell"><code class="language-shell"><span class="line"><span style="color:var(--shiki-token-comment)"># 初始网卡</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">kextload</span><span style="color:var(--shiki-token-string)"> /Library/Extensions/tunnelblick-tap.kext</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># 启动 Tinc</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">/opt/homebrew/Cellar/tinc/1.0.36/sbin/tincd</span><span style="color:var(--shiki-token-string)"> -n</span><span style="color:var(--shiki-token-string)"> hnet</span><span style="color:var(--shiki-token-string)"> -D</span><span style="color:var(--shiki-token-string)"> --pidfile=/opt/homebrew/Cellar/tinc/1.0.36/var/run/tinc.hnet.pid</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>进入 <code translate="no">/opt/homebrew/etc/tinc</code> 目录，然后 Tinc 配置和其他客户端一样同上，不同的就是 <code translate="no">tinc-up</code> 和 <code translate="no">tinc-down</code></p><p>tinc-up 文件</p><div class="code-block"> <pre class="shiki highlighting language-shell" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="shell"><code class="language-shell"><span class="line"><span style="color:var(--shiki-token-comment)">#!/bin/sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># 固定虚拟网卡的 mac 地址，避免每次重启后的 mac 地址不一样导致 DHCP 分配不同的 IP</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">ifconfig</span><span style="color:var(--shiki-foreground)"> $INTERFACE </span><span style="color:var(--shiki-token-string)">ether</span><span style="color:var(--shiki-token-string)"> xx:xx:xx:xx:xx:xx</span><span style="color:var(--shiki-token-comment)"> # 这里改成任意 mac 地址</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">ifconfig</span><span style="color:var(--shiki-foreground)"> $INTERFACE </span><span style="color:var(--shiki-token-string)">up</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">ipconfig</span><span style="color:var(--shiki-token-string)"> set</span><span style="color:var(--shiki-foreground)"> $INTERFACE </span><span style="color:var(--shiki-token-string)">DHCP</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>tinc-down 文件</p><div class="code-block"> <pre class="shiki highlighting language-shell" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="shell"><code class="language-shell"><span class="line"><span style="color:var(--shiki-token-comment)">#!/bin/sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-function)">ifconfig</span><span style="color:var(--shiki-foreground)"> $INTERFACE </span><span style="color:var(--shiki-token-string)">down</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>进入 <code translate="no">/opt/homebrew/Cellar/tinc/1.0.36</code> 目录新建 <code translate="no">./var/run/tinc.hnet.pid</code> 文件</p><p>进入 <code translate="no">/Library/LaunchDaemons</code> 新建 <code translate="no">tinc.hnet.plist</code> 文件，这一步是配置 Tinc 开机自启，内容如下</p><div class="code-block"> <pre class="shiki highlighting language-xml" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="xml"><code class="language-xml"><span class="line"><span style="color:var(--shiki-foreground)">&#x3C;?</span><span style="color:var(--shiki-token-string-expression)">xml</span><span style="color:var(--shiki-token-function)"> version</span><span style="color:var(--shiki-foreground)">=</span><span style="color:var(--shiki-token-string-expression)">"1.0"</span><span style="color:var(--shiki-token-function)"> encoding</span><span style="color:var(--shiki-foreground)">=</span><span style="color:var(--shiki-token-string-expression)">"UTF-8"</span><span style="color:var(--shiki-foreground)">?></span></span>
<span class="line"><span style="color:var(--shiki-foreground)">&#x3C;!</span><span style="color:var(--shiki-token-keyword)">DOCTYPE</span><span style="color:var(--shiki-foreground)"> plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"></span></span>
<span class="line"><span style="color:var(--shiki-foreground)">&#x3C;</span><span style="color:var(--shiki-token-string-expression)">plist</span><span style="color:var(--shiki-token-function)"> version</span><span style="color:var(--shiki-foreground)">=</span><span style="color:var(--shiki-token-string-expression)">"1.0"</span><span style="color:var(--shiki-foreground)">></span></span>
<span class="line"><span style="color:var(--shiki-foreground)">    &#x3C;</span><span style="color:var(--shiki-token-string-expression)">dict</span><span style="color:var(--shiki-foreground)">>        </span></span>
<span class="line"><span style="color:var(--shiki-foreground)">        &#x3C;</span><span style="color:var(--shiki-token-string-expression)">key</span><span style="color:var(--shiki-foreground)">>KeepAlive&#x3C;/</span><span style="color:var(--shiki-token-string-expression)">key</span><span style="color:var(--shiki-foreground)">></span></span>
<span class="line"><span style="color:var(--shiki-foreground)">        &#x3C;</span><span style="color:var(--shiki-token-string-expression)">true</span><span style="color:var(--shiki-foreground)">/></span></span>
<span class="line"><span style="color:var(--shiki-foreground)">        &#x3C;</span><span style="color:var(--shiki-token-string-expression)">key</span><span style="color:var(--shiki-foreground)">>Label&#x3C;/</span><span style="color:var(--shiki-token-string-expression)">key</span><span style="color:var(--shiki-foreground)">></span></span>
<span class="line"><span style="color:var(--shiki-foreground)">        &#x3C;</span><span style="color:var(--shiki-token-string-expression)">string</span><span style="color:var(--shiki-foreground)">>tinc.hnet&#x3C;/</span><span style="color:var(--shiki-token-string-expression)">string</span><span style="color:var(--shiki-foreground)">></span></span>
<span class="line"><span style="color:var(--shiki-foreground)">        &#x3C;</span><span style="color:var(--shiki-token-string-expression)">key</span><span style="color:var(--shiki-foreground)">>ProgramArguments&#x3C;/</span><span style="color:var(--shiki-token-string-expression)">key</span><span style="color:var(--shiki-foreground)">></span></span>
<span class="line"><span style="color:var(--shiki-foreground)">        &#x3C;</span><span style="color:var(--shiki-token-string-expression)">array</span><span style="color:var(--shiki-foreground)">></span></span>
<span class="line"><span style="color:var(--shiki-foreground)">            &#x3C;</span><span style="color:var(--shiki-token-string-expression)">string</span><span style="color:var(--shiki-foreground)">>/opt/homebrew/etc/tinc/startup.sh&#x3C;/</span><span style="color:var(--shiki-token-string-expression)">string</span><span style="color:var(--shiki-foreground)">></span></span>
<span class="line"><span style="color:var(--shiki-foreground)">        &#x3C;/</span><span style="color:var(--shiki-token-string-expression)">array</span><span style="color:var(--shiki-foreground)">></span></span>
<span class="line"><span style="color:var(--shiki-foreground)">    &#x3C;/</span><span style="color:var(--shiki-token-string-expression)">dict</span><span style="color:var(--shiki-foreground)">></span></span>
<span class="line"><span style="color:var(--shiki-foreground)">&#x3C;/</span><span style="color:var(--shiki-token-string-expression)">plist</span><span style="color:var(--shiki-foreground)">></span></span></code></pre> <button class="copy-code-button">copy</button> </div> <h3 id="客户端（Android 14）" class="group flex relative" data-heading="客户端（Android 14）"> <a aria-label="link to this heading" aria-describedby="客户端（Android 14）" href="#客户端（Android 14）">#</a>客户端（Android 14） </h3><p>补充：我没有一次连接成功过，下面的内容或许存在问题</p><p><strong>1. 安装 pacien tincapp 软件</strong></p><p>下载地址 <a href="https://tincapp.pacien.org/#downloads" rel="noonpener" class="external-link" target="_blank">tincapp.pacien.org</a></p><p><strong>2. 安装 adb 工具</strong></p><p>需要使用 adb 工具来访问 Tinc App 目录修改配置文件，adb 下载地址：<a href="https://developer.android.com/tools/releases/platform-tools?hl=zh-cn" rel="noonpener" class="external-link" target="_blank">https://developer.android.com/tools/releases/platform-tools?hl=zh-cn</a></p><p>下载后解压至一个目录，在 Android 手机开发者模式下开启 <code translate="no">USB 调试模式</code>，然后连接至电脑，在刚才解压的目录开启终端输入一下命令：</p><div class="code-block"> <pre class="shiki highlighting language-plaintext" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="plaintext"><code class="language-plaintext"><span class="line"><span>.\adb.exe devices</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>如果显示 <code translate="no">unauthorized</code> 可能是你没有在手机上允许，手机会弹出一个 USB 调试指纹的确认对话，同意后再重试上面的命令，如果显示</p><div class="code-block"> <pre class="shiki highlighting language-text" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="text"><code class="language-text"><span class="line"><span>List of devices attached</span></span>
<span class="line"><span>xxxxxxxx    device</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>则正常，输入下面命令进入 adb shell</p><div class="code-block"> <pre class="shiki highlighting language-plaintext" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="plaintext"><code class="language-plaintext"><span class="line"><span>.\adb.exe shell</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>此时操作手机端，打开 Tinc App 应用，点击右上角扳手图标按钮</p><p><figure> <a data-width="549" data-height="969" href="/static/35jJa1mZZKUU6CRZmnoDtA.png" target="_blank"> <picture> <source srcset="/static/35jJa1mZZKUU6CRZmnoDtA.png@300w530h!thumbnail.avif" type="image/avif" media="(min-width:300px)"> <img src="/static/35jJa1mZZKUU6CRZmnoDtA.png@300w530h!thumbnail.png" alt="Pasted image 20240305155426.png" width="300"> </picture> </a>  </figure></p><p>然后点击 <code translate="no">Generate node configuration and Keys</code> 生成一个配置文件</p><div class="code-block"> <pre class="shiki highlighting language-plaintext" style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" language="plaintext"><code class="language-plaintext"><span class="line"><span>/storage/emulated/0/Android/data/org.pacien.tincapp/files/networks</span></span></code></pre> <button class="copy-code-button">copy</button> </div> <p>参考：
<a href="http://tinc-vpn.org/docs/" rel="noonpener" class="external-link" target="_blank">http://tinc-vpn.org/docs/</a>
<a href="https://lala.im/6209.html" rel="noonpener" class="external-link" target="_blank">https://lala.im/6209.html</a>
<a href="https://blog.virt.ltd/blog/archives/32/" rel="noonpener" class="external-link" target="_blank">https://blog.virt.ltd/blog/archives/32/</a></p> </article> <div class="opacity-85 font-main mt-8"> <p class="flex gap-1 items-center mt-8"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 mr-2"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"/>
<circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/></svg> <span class="flex gap-2 leading-none"> <a class="text-sm hover:underline" href="/tags/windows">
#windows </a><a class="text-sm hover:underline" href="/tags/network">
#network </a><a class="text-sm hover:underline" href="/tags/debian">
#debian </a> </span> </p> <p class="flex gap-1 items-center my-2 text-sm"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 mr-2"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/></svg> <a class="no-underline hover:underline leading-tight" href="/categories/记录">记录</a> </p> <p class="flex gap-1 items-center my-3 text-sm"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 mr-2"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/>
<path d="M14 2v4a2 2 0 0 0 2 2h4"/>
<path d="M10 9H8"/>
<path d="M16 13H8"/>
<path d="M16 17H8"/></svg> <span class="leading-tight pt-0.5">2962 Words</span> </p> <p class="italic text-sm">
/* 最后更新于
<time datetime="2024-05-17T08:35:07.713Z"> May 17, 2024 </time>
*/
</p> </div> <div class="flex justify-between items-center mt-8 text-sm gap-2"> <p class="flex flex-col flex-1 min-w-0"> <span class="opacity-60">上一篇：</span> <a class="no-underline hover:underline truncate" href="/posts/2023-02-15-Windows 重命名网络适配器以及切换网络类型"> Windows 重命名网络适配器以及切换网络类型 </a> </p> <p class="flex flex-col flex-1 min-w-0 text-right"> <span class="opacity-60">下一篇：</span> <a class="no-underline hover:underline truncate" href="/posts/2023-02-01-Windows 下 CLion 开发 Rust 的 Debugger 配置"> Windows 下 CLion 开发 Rust 的 Debugger 配置 </a> </p> </div> <div class="mt-16 text-center text-gray-700 dark:text-gray-300" id="comment"> <button class="cursor-pointer opacity-60 hover:opacity-100 p-2 text-sm" type="button"> <span>載入評論</span> </button> </div>  </main>  <footer class="text-sm text-center opacity-60 mb-16 mt-12"> <p class="m-0">遵循吾之宿命，踏上未知旅程</p> <p class="mt-2"> <span>&copy; 2025 攬餘月</span>
·
<a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a>
·
<a href="/rss.xml" target="_blank" title="rss"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 inline-block align-text-top"> <path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path> <circle cx="5" cy="19" r="1"></circle> </svg> </a>
·
<a href="https://github.com/tonitrnel" target="_blank" title="github"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 inline-block align-text-top"> <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path> <path d="M9 18c-4.51 2-5-2-7-2"></path> </svg> </a> </p> </footer> <!-- build date: 2025-02-16T12:12:50.828Z ᓚᘏᗢ--> </body></html>